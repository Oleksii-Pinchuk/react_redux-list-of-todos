(this["webpackJsonpreact_redux-list-of-todos"]=this["webpackJsonpreact_redux-list-of-todos"]||[]).push([[0],{25:function(e,t,n){},27:function(e,t,n){},28:function(e,t,n){},29:function(e,t,n){},30:function(e,t,n){"use strict";n.r(t);var r,c,s,o=n(8),a=n.n(o),i=n(7),u=n(6),d=n(3),l=n(5),j=n(4),b=n(2),p=n.n(b),f=function(){var e=Object(j.a)(p.a.mark((function e(t,n){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("https://mate.academy/students-api/","/").concat(t),n);case 3:return r=e.sent,e.next=6,r.json();case 6:return e.abrupt("return",e.sent);case 9:throw e.prev=9,e.t0=e.catch(0),new Error;case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}(),h=Object(u.b)("user/getUser",function(){var e=Object(j.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",f("users/".concat(t)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),O=Object(u.c)({name:"user",initialState:{user:null,selectedUserId:0,isUserLoading:!0,userLoadingError:!1},reducers:{changeUserId:function(e,t){e.selectedUserId=t.payload}},extraReducers:(r={},Object(l.a)(r,h.pending.type,(function(e){e.userLoadingError=!1,e.isUserLoading=!0})),Object(l.a)(r,h.fulfilled.type,(function(e,t){e.isUserLoading=!1,e.userLoadingError=!1,e.user=t.payload})),Object(l.a)(r,h.rejected.type,(function(e){e.isUserLoading=!1,e.userLoadingError=!0})),r)}),x=O.actions.changeUserId,m=O.reducer,v=Object(u.b)("todos/getTodos",Object(j.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",f("todos"));case 1:case"end":return e.stop()}}),e)})))),L=Object(u.b)("todos/deleteTodo",function(){var e=Object(j.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",f("todos/".concat(t),{method:"DELETE"}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),g=Object(u.c)({name:"user",initialState:{todos:[],isTodosLoading:!0,todosLoadingError:!1},reducers:{},extraReducers:(c={},Object(l.a)(c,v.pending.type,(function(e){e.isTodosLoading=!0,e.todosLoadingError=!1})),Object(l.a)(c,v.fulfilled.type,(function(e,t){e.isTodosLoading=!1,e.todosLoadingError=!1,e.todos=t.payload})),Object(l.a)(c,v.rejected.type,(function(e){e.isTodosLoading=!1,e.todosLoadingError=!0})),c)}).reducer,_=Object(d.b)({todos:g,user:m}),y=n(0),w=n(11),U=n(10),T=n.n(U),N=i.c,k=function(){return Object(i.b)()},C=(n(25),n(1));!function(e){e.Active="active",e.Completed="completed"}(s||(s={}));var E=function(){var e=k(),t=N((function(e){return e.todos})),n=t.todos,r=t.isTodosLoading,c=t.todosLoadingError,o=N((function(e){return e.user})),a=o.user,i=o.selectedUserId,u=Object(y.useState)(""),d=Object(w.a)(u,2),l=d[0],b=d[1],f=Object(y.useState)(""),O=Object(w.a)(f,2),m=O[0],g=O[1];Object(y.useEffect)((function(){e(v())}),[]);var _=function(){var e=l.toLowerCase(),t=n.filter((function(t){return t.title.toLowerCase().includes(e)}));switch(m){case s.Active:return t.filter((function(e){return!e.completed}));case s.Completed:return t.filter((function(e){return e.completed}));default:return t}}(),U=function(t){var n=t.target,r=n.name,c=n.value;switch(e(x(null)),r){case"title":b(c);break;case"status":g(c)}},E=function(){var t=Object(j.a)(p.a.mark((function t(n){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i===n){t.next=3;break}return t.next=3,e(h(n));case 3:e(x(n));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),I=function(){var t=Object(j.a)(p.a.mark((function t(n){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(L(n));case 2:return t.next=4,e(v());case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(C.jsxs)("div",{className:"TodoList",children:[Object(C.jsx)("h2",{children:"Todos:"}),Object(C.jsxs)("div",{children:[!c&&!r&&Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("input",{type:"text",onChange:U,placeholder:"filter the todos by title",name:"title"}),Object(C.jsxs)("select",{id:"select",onChange:U,value:m,name:"status",children:[Object(C.jsx)("option",{value:"all",children:"All"}),Object(C.jsx)("option",{value:"active",children:"Active"}),Object(C.jsx)("option",{value:"completed",children:"Completed"})]}),Object(C.jsx)("div",{className:"TodoList__list-container",children:Object(C.jsx)("ul",{className:"TodoList__list",children:_.map((function(e){return Object(C.jsxs)("li",{className:T()("TodoList__item",{"TodoList__item--unchecked":!e.completed,"TodoList__item--checked":e.completed}),children:[Object(C.jsxs)("label",{htmlFor:"".concat(e.id),children:[Object(C.jsx)("input",{id:"".concat(e.id),type:"checkbox",readOnly:!0,checked:e.completed}),Object(C.jsx)("p",{children:e.title})]}),Object(C.jsxs)("div",{className:"TodoList__user-buttonContainer",children:[Object(C.jsx)("button",{className:"TodoList__user-button button",type:"button",onClick:function(){return I(e.id)},children:"Delete"}),Object(C.jsx)("button",{className:T()("TodoList__user-button","button",{"TodoList__user-button--selected":e.userId===(null===a||void 0===a?void 0:a.id)}),type:"button",onClick:function(){return E(e.userId)},children:"User #".concat(e.userId)})]})]},e.id)}))})})]}),c&&!r&&"Unable to load the data",r&&"Loading..."]})]})},I=(n(27),function(){var e=k(),t=N((function(e){return e.user})),n=t.user,r=t.isUserLoading,c=t.userLoadingError;return Object(C.jsxs)(C.Fragment,{children:[!c&&!r&&Object(C.jsxs)("div",{className:"CurrentUser",children:[Object(C.jsx)("h2",{className:"CurrentUser__title",children:Object(C.jsx)("span",{children:"Selected user: ".concat(null===n||void 0===n?void 0:n.id)})}),Object(C.jsx)("h3",{className:"CurrentUser__name",children:null===n||void 0===n?void 0:n.name}),Object(C.jsx)("p",{className:"CurrentUser__email",children:null===n||void 0===n?void 0:n.email}),Object(C.jsx)("p",{className:"CurrentUser__phone",children:null===n||void 0===n?void 0:n.phone}),Object(C.jsx)("button",{className:"button",type:"button",onClick:function(){e(x(null))},children:"Clear"})]}),Object(C.jsxs)("div",{children:[c&&!r&&Object(C.jsx)("div",{children:"Unable to load the data"}),r&&Object(C.jsx)("div",{children:"Loading..."})]})]})}),A=(n(28),n(29),function(){var e=N((function(e){return e.user})),t=e.selectedUserId;return Object(C.jsxs)("div",{className:"App",children:[Object(C.jsx)("div",{className:"App__sidebar",children:Object(C.jsx)(E,{})}),Object(C.jsx)("div",{className:"App__content",children:Object(C.jsx)("div",{className:"App__content-container",children:t?Object(C.jsx)(I,{}):"No user selected"})})]})}),S=Object(u.a)({reducer:_}),F=function(){return Object(C.jsx)(i.a,{store:S,children:Object(C.jsx)(A,{})})};a.a.render(Object(C.jsx)(F,{}),document.getElementById("root"))}},[[30,1,2]]]);
//# sourceMappingURL=main.4dc6ea1a.chunk.js.map